{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"AzureScout","text":"<p>See everything. Own your cloud.</p> <p>Fork Attribution</p> <p>AzureScout is a fork of Azure Resource Inventory (ARI) by Microsoft, originally created by Claudio Merola and Renato Gregio. The ARI project provided the entire foundation that AzureScout builds upon \u2014 171 ARM inventory modules, the draw.io diagram engine, Excel reporting, and more. We are deeply grateful for their work.</p> <p>See Credits &amp; Attribution for full details, or Differences from ARI for what has changed.</p>"},{"location":"#overview","title":"Overview","text":"<p>AzureScout (AZSC) is a PowerShell module that discovers and inventories everything in your Azure environment \u2014 ARM resources, Entra ID objects, costs, security posture, policies, and more. Reports are generated as Excel workbooks, JSON, Markdown, or AsciiDoc.</p> Feature Description ARM Resource Discovery 170+ resource modules across 18 Microsoft Azure categories (AI + machine learning, Analytics, Compute, Containers, Databases, Hybrid + multicloud, Identity, Integration, IoT, Management and governance, Monitor, Networking, Security, Storage, Web, and more) Entra ID Inventory 15 identity modules \u2014 Users, Groups, Applications, Service Principals, Conditional Access, PIM, Administrative Units, Named Locations, Domains, Authentication Methods, and more Excel Reports Rich multi-worksheet workbooks with charts, pivot tables, and conditional formatting JSON Output Machine-readable normalized output for automation pipelines Markdown &amp; AsciiDoc Export reports as <code>.md</code> or <code>.adoc</code> for documentation pipelines and PDF generation Network Diagrams Auto-generated draw.io topology diagrams Category Filtering Run only the categories you need: <code>-Category Compute,Security,Networking</code> Permission Audit Pre-flight ARM + Graph access checker with role remediation guidance"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install from PSGallery\nInstall-Module -Name AzureScout\n\n# Import from local clone\nImport-Module ./AzureScout.psd1\n\n# Full discovery (ARM only, uses current Azure context)\nInvoke-AzureScout\n\n# ARM + Entra ID\nInvoke-AzureScout -Scope All\n\n# ARM-only scan with JSON output\nInvoke-AzureScout -Scope ArmOnly -OutputFormat Json\n\n# Specific categories only\nInvoke-AzureScout -Category Compute,Security,Networking\n\n# Permission pre-flight check\nInvoke-AzureScout -PermissionAudit\n</code></pre> <p>Tip</p> <p>If you're already logged in via <code>Connect-AzAccount</code>, AzureScout uses your existing session \u2014 no additional flags needed.</p>"},{"location":"#documentation","title":"Documentation","text":"Page Description Authentication Five authentication methods (interactive, device-code, SPN+secret, SPN+cert, managed identity) Usage Guide Scope, OutputFormat, Category filtering, and examples Permissions Required ARM RBAC roles and Microsoft Graph API permissions Category Filtering Run targeted scans using Microsoft's 18 Azure categories ARM Modules 170+ resource modules across 18 categories Entra Modules 15 Entra ID identity modules Repository Structure Directory layout and module loading Contributing How to add new inventory modules Credits Attribution and acknowledgments Changelog Version history"},{"location":"ari-differences/","title":"Differences from Azure Resource Inventory (ARI)","text":"<p>Important</p> <p>AzureScout is a fork of Azure Resource Inventory (ARI) v3.6.11, created by Claudio Merola and Renato Gregio at Microsoft. Everything listed on this page describes how AzureScout diverges from ARI \u2014 not a criticism of the original project. We encourage you to evaluate both projects and choose the one that fits your needs.</p>"},{"location":"ari-differences/#what-azurescout-inherits-from-ari","title":"What AzureScout Inherits from ARI","text":"<p>AzureScout would not exist without the foundation laid by ARI. The following core capabilities come directly from the original project:</p> Area What We Inherited ARM Resource Extraction The fundamental pattern of using Azure Resource Graph and ARM APIs to enumerate resources across subscriptions. Draw.io Diagram Engine All network topology diagram generation \u2014 VNets, subnets, peerings, NSGs, load balancers, and resource layout logic. Excel Report Pipeline The ImportExcel-based pipeline that turns resource data into formatted <code>.xlsx</code> workbooks with conditional formatting. 171 ARM Resource Modules Every inventory module in <code>Modules/Public/InventoryModules/</code> descends from ARI's original module set. AzureScout has added new modules and enhanced existing ones, but the pattern and many files trace back to ARI. Orchestration Pattern The extraction \u2192 processing \u2192 reporting three-phase orchestration that powers the main pipeline. Automation Account Mode The concept of running inside an Azure Automation Account with a Managed Identity (though AzureScout has not yet documented or validated this path \u2014 see roadmap)."},{"location":"ari-differences/#renamed-identifiers","title":"Renamed Identifiers","text":"<p>The most visible change is the rebranding from ARI to AzureScout. This affects every public-facing name in the module.</p> What ARI Name AzureScout Name PowerShell Module <code>AzureResourceInventory</code> <code>AzureScout</code> Main Entry Point <code>Invoke-ARI</code> <code>Invoke-AzureScout</code> Exported Function Prefix <code>*-ARI*</code> <code>*-AZSC*</code> Internal Function Prefix <code>*-ARI*</code> <code>*-AZSC*</code> Module Manifest <code>AzureResourceInventory.psd1</code> <code>AzureScout.psd1</code> Root Module File <code>AzureResourceInventory.psm1</code> <code>AzureScout.psm1</code> <p>All function definitions inside the <code>.ps1</code> files have been renamed to <code>AZSC</code>, but many file names on disk still use an intermediate <code>AZTI</code> prefix (e.g., <code>Start-AZTIAdvisoryJob.ps1</code> contains <code>function Start-AZSCAdvisoryJob</code>). Renaming the file names is tracked as tech debt.</p>"},{"location":"ari-differences/#new-capabilities","title":"New Capabilities","text":"<p>These features do not exist in ARI v3.6.11 and were built specifically for AzureScout.</p>"},{"location":"ari-differences/#entra-id-inventory-15-modules","title":"Entra ID Inventory (15 Modules)","text":"<p>ARI focuses exclusively on ARM resources. AzureScout adds 15 Microsoft Graph-based modules that inventory Entra ID (Azure AD) objects:</p> <ul> <li>Users, Groups, Service Principals, App Registrations</li> <li>Conditional Access Policies, Named Locations</li> <li>Administrative Units, Directory Roles, Role Assignments</li> <li>Identity Providers, Security Defaults</li> <li>Managed Identities, Enterprise Applications</li> <li>Authentication Methods, Password Policies</li> </ul> <p>These are extracted via <code>Start-AZSCEntraExtraction</code> using a dedicated Graph API token.</p>"},{"location":"ari-differences/#permission-audit-permissionaudit","title":"Permission Audit (<code>-PermissionAudit</code>)","text":"<p>A pre-flight capability that checks whether the running identity has the ARM and Graph permissions needed for a complete inventory before starting extraction.</p> <ul> <li><code>-PermissionAudit</code> \u2014 checks ARM permissions only (default)</li> <li><code>-PermissionAudit -Scope All</code> \u2014 checks both ARM and Graph permissions</li> <li>Outputs results to Console, Markdown, AsciiDoc, or JSON</li> </ul>"},{"location":"ari-differences/#execution-scope-scope","title":"Execution Scope (<code>-Scope</code>)","text":"<p>ARI always inventories ARM resources across every subscription the identity can see. AzureScout adds a <code>-Scope</code> parameter that controls what types of objects are inventoried:</p> <ul> <li><code>ArmOnly</code> (default) \u2014 ARM resources only, same scope as ARI</li> <li><code>EntraOnly</code> \u2014 Entra ID (Azure AD) objects only, skips ARM</li> <li><code>All</code> \u2014 both ARM resources and Entra ID objects</li> </ul> <p>This is separate from the <code>-SubscriptionID</code> parameter (inherited from ARI) that targets a specific subscription.</p>"},{"location":"ari-differences/#multi-format-output-outputformat","title":"Multi-Format Output (<code>-OutputFormat</code>)","text":"<p>ARI outputs Excel (<code>.xlsx</code>) and Draw.io (<code>.drawio</code>) files. AzureScout adds:</p> <ul> <li>JSON (<code>-OutputFormat JSON</code>) \u2014 raw cache data as <code>.json</code> for programmatic consumption</li> <li>Markdown (<code>-OutputFormat Markdown</code> or <code>-OutputFormat MD</code>) \u2014 GitHub-Flavored Markdown tables</li> <li>AsciiDoc (<code>-OutputFormat AsciiDoc</code> or <code>-OutputFormat Adoc</code>) \u2014 Antora/Confluence-compatible AsciiDoc tables</li> <li>All (<code>-OutputFormat All</code>) \u2014 every format at once</li> </ul>"},{"location":"ari-differences/#category-filtering-category","title":"Category Filtering (<code>-Category</code>)","text":"<p>Lets you limit extraction and reporting to specific Azure resource categories:</p> <pre><code>Invoke-AzureScout -Category Compute, Networking\n</code></pre> <p>Supports both short folder names (<code>Compute</code>) and long Azure portal names (<code>AI + machine learning</code>). Modules declare their category via a <code>.CATEGORY</code> comment header, enabling cross-category placement.</p>"},{"location":"ari-differences/#specialized-excel-tabs","title":"Specialized Excel Tabs","text":"<p>AzureScout adds purpose-built Excel worksheets that aggregate data across resource types:</p> <ul> <li>Cost Management \u2014 VM cost estimates, Arc ESU costs, reservation recommendations</li> <li>Security Overview \u2014 Defender secure score, high/critical assessments, active alerts, plan pricing</li> <li>Azure Update Manager \u2014 Patch compliance across VMs and Arc servers</li> <li>Azure Monitor \u2014 Action groups, DCRs, DCEs, App Insights, alert rules, autoscale settings</li> </ul>"},{"location":"ari-differences/#resource-enrichment","title":"Resource Enrichment","text":"<p>Virtual Machine and Arc Server modules now pull supplementary data from multiple APIs:</p> <ul> <li>Azure Monitor Metrics \u2014 7-day average CPU and memory usage</li> <li>Azure Site Recovery \u2014 DR replication status, target region, replication health</li> <li>Cost Management \u2014 Estimated monthly cost (USD)</li> <li>PolicyInsights \u2014 Policy assignment count and compliance state (Arc)</li> </ul>"},{"location":"ari-differences/#dependency-bootstrap","title":"Dependency Bootstrap","text":"<p>ARI requires modules to be pre-installed (declared in <code>RequiredModules</code>). AzureScout auto-installs missing dependencies on first import:</p> <ul> <li><code>ImportExcel</code>, <code>Az.Accounts</code>, <code>Az.ResourceGraph</code>, <code>Az.Storage</code>, <code>Az.Compute</code>, <code>Az.Authorization</code>, <code>Az.Resources</code></li> </ul>"},{"location":"ari-differences/#structural-changes","title":"Structural Changes","text":""},{"location":"ari-differences/#documentation","title":"Documentation","text":"ARI AzureScout README-only docs MkDocs Material documentation site (<code>docs/</code> folder) with navigation, search, and cross-references No API/architecture docs Dedicated pages for category filtering, coverage tables, category-to-folder mapping Inline examples only 4 structured <code>.EXAMPLE</code> blocks on <code>Invoke-AzureScout</code>"},{"location":"ari-differences/#testing","title":"Testing","text":"ARI AzureScout No test suite 25+ Pester test files covering public functions, private functions, inventory modules, output formats, and category filtering No synthetic data <code>New-SyntheticSampleReport.ps1</code> generates test data for offline validation"},{"location":"ari-differences/#folder-reorganization","title":"Folder Reorganization","text":"<p>ARI's <code>Modules/Private/</code> uses numbered folders (<code>1.ExtractionFunctions/</code>, <code>2.ProcessingFunctions/</code>, etc.). AzureScout replaces these with descriptive names:</p> ARI Path AzureScout Path <code>Modules/Private/1.ExtractionFunctions/</code> <code>Modules/Private/Extraction/</code> <code>Modules/Private/2.ProcessingFunctions/</code> <code>Modules/Private/Processing/</code> <code>Modules/Private/3.ReportingFunctions/</code> <code>Modules/Private/Reporting/</code> <code>Modules/Private/4.RAMPFunctions/</code> (removed)"},{"location":"ari-differences/#removed-from-ari","title":"Removed from ARI","text":"<p>The following ARI features were intentionally removed:</p> Feature Reason RAMP Functions <code>Invoke-AzureRAMPInventory</code> and the <code>4.RAMPFunctions/</code> folder were removed. RAMP (Risk Assessment &amp; Mitigation Program) is an internal Microsoft program not broadly applicable. Auto-Update Logic ARI calls <code>Update-Module</code> to self-update. AzureScout removes this \u2014 module updates should be a conscious decision by the operator, not automatic. Remove-ARIExcelProcess ARI included a function that kills Excel processes to prevent file-lock issues. AzureScout removes this aggressive behavior. RequiredModules hard dependency Replaced with runtime bootstrap (see Dependency Bootstrap)."},{"location":"ari-differences/#not-yet-in-azurescout","title":"Not Yet in AzureScout","text":"<p>These ARI features or ecosystem elements have not been ported or replicated:</p> Feature Status GitHub Actions CI ARI has CI workflows for automated testing and publishing. AzureScout does not yet have CI \u2014 tracked in the project roadmap. PSGallery Publishing ARI is published to the PowerShell Gallery. AzureScout is GitHub-only for now. Automation Account Documentation ARI has an 8-step guide for running in Azure Automation. AzureScout has the plumbing but no docs \u2014 tracked as Issue #32. Containerized Execution ARI documents Docker-based execution. AzureScout has not validated container support."},{"location":"ari-differences/#version-lineage","title":"Version Lineage","text":"<pre><code>ARI v3.6.11 (microsoft/ARI)\n  \u2514\u2500\u2500 Fork \u2500\u2500\u2192 AzureScout v1.0.0 (thisismydemo/azure-scout)\n                  \u251c\u2500\u2500 Rebranding (ARI \u2192 AZSC function prefix)\n                  \u251c\u2500\u2500 +15 Entra ID modules\n                  \u251c\u2500\u2500 +30 new ARM modules (Phases 7\u201317)\n                  \u251c\u2500\u2500 Permission Audit system\n                  \u251c\u2500\u2500 Multi-format output (JSON, Markdown, AsciiDoc)\n                  \u251c\u2500\u2500 Category filtering\n                  \u251c\u2500\u2500 Specialized Excel tabs\n                  \u251c\u2500\u2500 Resource enrichment (metrics, DR, cost)\n                  \u251c\u2500\u2500 MkDocs Material documentation\n                  \u2514\u2500\u2500 Pester test suite\n</code></pre>"},{"location":"ari-differences/#further-reading","title":"Further Reading","text":"<ul> <li>Credits &amp; Attribution \u2014 full list of original authors and contributors</li> <li>AzureScout Documentation Home</li> <li>ARI on GitHub \u2014 the original project</li> <li>AzureScout on GitHub \u2014 this fork</li> </ul>"},{"location":"arm-modules/","title":"ARM Inventory Modules","text":""},{"location":"arm-modules/#overview","title":"Overview","text":"<p>AzureScout includes 95 ARM inventory modules organized into 16 categories. Each module extracts data for a specific Azure resource type using the Azure Resource Manager APIs.</p> <p>Run ARM-only extraction with:</p> <pre><code>Invoke-AzureScout -Scope ArmOnly\n</code></pre>"},{"location":"arm-modules/#module-catalog","title":"Module Catalog","text":""},{"location":"arm-modules/#ai-14-modules","title":"AI (14 modules)","text":"<p>Cognitive Services, Machine Learning, and AI platform resources.</p> Module Resource Type AzureAI Azure AI Services (multi-service) ComputerVision Computer Vision accounts ContentModerator Content Moderator accounts ContentSafety Content Safety accounts CustomVision Custom Vision training &amp; prediction FaceAPI Face API accounts FormRecognizer Form Recognizer / Document Intelligence HealthInsights Health Insights accounts ImmersiveReader Immersive Reader resources MachineLearning Machine Learning workspaces SearchServices Azure AI Search (Cognitive Search) SpeechService Speech Services accounts TextAnalytics Text Analytics / Language Service Translator Translator resources"},{"location":"arm-modules/#analytics-6-modules","title":"Analytics (6 modules)","text":"<p>Big data, streaming, and data governance resources.</p> Module Resource Type Databricks Azure Databricks workspaces DataExplorerCluster Azure Data Explorer (Kusto) clusters EvtHub Event Hubs namespaces Purview Microsoft Purview accounts Streamanalytics Stream Analytics jobs Synapse Synapse Analytics workspaces"},{"location":"arm-modules/#apis-5-modules","title":"APIs (5 modules)","text":"<p>Azure platform advisory and management APIs.</p> Module Resource Type AdvisorScore Azure Advisor score summaries ManagedIds Managed Identity assignments Outages Service health / outage records ReservationRecom Reservation purchase recommendations SupportTickets Azure Support tickets"},{"location":"arm-modules/#azure-local-6-modules","title":"Azure Local (6 modules)","text":"<p>Azure Local (formerly Azure Stack HCI) resources.</p> Module Resource Type Clusters Azure Local clusters GalleryImages VM gallery images LogicalNetworks Logical networks MarketplaceGalleryImages Marketplace gallery images StorageContainers Storage containers VirtualMachines Arc-enabled virtual machines"},{"location":"arm-modules/#compute-7-modules","title":"Compute (7 modules)","text":"<p>Virtual machines, scale sets, and compute infrastructure.</p> Module Resource Type AvailabilitySets VM availability sets AVD Azure Virtual Desktop host pools CloudServices Cloud Services (classic &amp; extended) VirtualMachine Virtual machines VirtualMachineScaleSet VM scale sets (VMSS) VMDisk Managed disks VMWare Azure VMware Solution"},{"location":"arm-modules/#container-6-modules","title":"Container (6 modules)","text":"<p>Kubernetes, container apps, and container registries.</p> Module Resource Type AKS Azure Kubernetes Service clusters ARO Azure Red Hat OpenShift clusters ContainerApp Container Apps ContainerAppEnv Container App Environments ContainerGroups Container Instances (groups) ContainerRegistries Azure Container Registry"},{"location":"arm-modules/#database-13-modules","title":"Database (13 modules)","text":"<p>Relational, NoSQL, and cache database services.</p> Module Resource Type CosmosDB Cosmos DB accounts MariaDB MariaDB servers MySQL MySQL single servers MySQLflexible MySQL flexible servers POSTGRE PostgreSQL single servers POSTGREFlexible PostgreSQL flexible servers RedisCache Azure Cache for Redis SQLDB SQL databases SQLMI SQL Managed Instances SQLMIDB SQL MI databases SQLPOOL Synapse SQL pools SQLSERVER SQL servers SQLVM SQL virtual machines"},{"location":"arm-modules/#hybrid-5-modules","title":"Hybrid (5 modules)","text":"<p>Azure Arc and hybrid resource management.</p> Module Resource Type ArcExtensions Arc machine extensions ArcGateways Arc gateways ArcKubernetes Arc-enabled Kubernetes clusters ArcResourceBridge Arc resource bridges ARCServers Arc-enabled servers"},{"location":"arm-modules/#integration-2-modules","title":"Integration (2 modules)","text":"<p>API management and messaging services.</p> Module Resource Type APIM API Management instances ServiceBUS Service Bus namespaces"},{"location":"arm-modules/#iot-1-module","title":"IoT (1 module)","text":"<p>Internet of Things platform resources.</p> Module Resource Type IOTHubs IoT Hub instances"},{"location":"arm-modules/#management-3-modules","title":"Management (3 modules)","text":"<p>Automation, backup, and recovery services.</p> Module Resource Type AutomationAccounts Automation accounts Backup Backup items and policies RecoveryVault Recovery Services vaults"},{"location":"arm-modules/#monitoring-2-modules","title":"Monitoring (2 modules)","text":"<p>Observability and logging resources.</p> Module Resource Type AppInsights Application Insights components Workspaces Log Analytics workspaces"},{"location":"arm-modules/#network-20-modules","title":"Network (20 modules)","text":"<p>Virtual networking, firewalls, load balancers, and DNS.</p> Module Resource Type ApplicationGateways Application Gateways AzureFirewall Azure Firewalls BastionHosts Bastion hosts Connections VPN / VNet connections ExpressRoute ExpressRoute circuits Frontdoor Front Door profiles LoadBalancer Load balancers NATGateway NAT gateways NetworkInterface Network interfaces (NICs) NetworkSecurityGroup Network Security Groups (NSGs) PrivateDNS Private DNS zones PrivateEndpoint Private endpoints PublicDNS Public DNS zones PublicIP Public IP addresses RouteTables Route tables / UDRs TrafficManager Traffic Manager profiles VirtualNetwork Virtual networks VirtualNetworkGateways VPN / ExpressRoute gateways VirtualWAN Virtual WAN hubs vNETPeering VNet peering connections"},{"location":"arm-modules/#security-1-module","title":"Security (1 module)","text":"<p>Security and secrets management.</p> Module Resource Type Vault Key Vault instances"},{"location":"arm-modules/#storage-2-modules","title":"Storage (2 modules)","text":"<p>Block, file, and object storage services.</p> Module Resource Type NetApp Azure NetApp Files accounts StorageAccounts Storage accounts"},{"location":"arm-modules/#web-2-modules","title":"Web (2 modules)","text":"<p>App Service hosting and web applications.</p> Module Resource Type APPServicePlan App Service plans APPServices App Services (web apps, APIs)"},{"location":"authentication/","title":"Authentication","text":""},{"location":"authentication/#overview","title":"Overview","text":"<p>AzureScout supports five authentication methods. The module uses <code>Connect-AZSCLoginSession</code> internally, which selects the auth path based on the parameters you provide.</p>"},{"location":"authentication/#priority-order","title":"Priority Order","text":"<p>When multiple auth parameters are supplied, the module selects the first matching path:</p> <ol> <li>SPN + Certificate \u2014 <code>AppId</code> + <code>CertificatePath</code> (+ optional <code>CertificatePassword</code>)</li> <li>SPN + Client Secret \u2014 <code>AppId</code> + <code>Secret</code></li> <li>Device Code \u2014 <code>-DeviceLogin</code> switch</li> <li>Managed Identity \u2014 Automatic when running in Azure (no parameters needed)</li> <li>Current User / Interactive \u2014 Default fallback, reuses existing <code>Get-AzContext</code></li> </ol>"},{"location":"authentication/#method-details","title":"Method Details","text":""},{"location":"authentication/#1-current-user-interactive","title":"1. Current User (Interactive)","text":"<p>The default. If you've already run <code>Connect-AzAccount</code>, AZSC reuses your session.</p> <pre><code>Connect-AzAccount\nInvoke-AzureScout\n</code></pre> <p>If no existing context matches the target tenant, the module calls <code>Connect-AzAccount</code> interactively.</p>"},{"location":"authentication/#2-device-code","title":"2. Device Code","text":"<p>For headless or remote sessions (SSH, containers).</p> <pre><code>Invoke-AzureScout -TenantID '00000000-...' -DeviceLogin\n</code></pre> <p>The module displays a URL and code. Open the link in any browser, enter the code, and authenticate.</p>"},{"location":"authentication/#3-service-principal-client-secret","title":"3. Service Principal + Client Secret","text":"<p>For CI/CD pipelines and unattended automation.</p> <pre><code>Invoke-AzureScout `\n    -TenantID  '00000000-...' `\n    -AppId     '11111111-...' `\n    -Secret    $env:CLIENT_SECRET\n</code></pre> <p>Important</p> <p>Store the secret in a Key Vault or pipeline secret \u2014 never hardcode it.</p>"},{"location":"authentication/#4-service-principal-certificate","title":"4. Service Principal + Certificate","text":"<p>The most secure SPN method \u2014 no secret string to rotate.</p> <pre><code>Invoke-AzureScout `\n    -TenantID         '00000000-...' `\n    -AppId            '11111111-...' `\n    -CertificatePath  'C:\\certs\\AZSC-spn.pfx' `\n    -CertificatePassword $certPwd\n</code></pre>"},{"location":"authentication/#5-managed-identity","title":"5. Managed Identity","text":"<p>When running inside Azure (VMs, Azure Functions, Azure Automation). The module detects managed identity automatically \u2014 no parameters required.</p> <pre><code># Inside an Azure VM/Function/Automation Account\nInvoke-AzureScout -TenantID '00000000-...'\n</code></pre>"},{"location":"authentication/#azure-environment","title":"Azure Environment","text":"<p>All methods accept <code>-AzureEnvironment</code> to target sovereign clouds:</p> <pre><code>Invoke-AzureScout -AzureEnvironment AzureUSGovernment\n</code></pre> <p>Valid values: <code>AzureCloud</code> (default), <code>AzureUSGovernment</code>, <code>AzureChinaCloud</code>, <code>AzureGermanCloud</code>.</p>"},{"location":"authentication/#loginexperiencev2","title":"LoginExperienceV2","text":"<p>The module checks for the <code>LoginExperienceV2</code> Az config setting. If enabled, it temporarily disables it to ensure compatibility, then restores the original value after login.</p>"},{"location":"category-filtering/","title":"Category Filtering","text":""},{"location":"category-filtering/#overview","title":"Overview","text":"<p>The <code>-Category</code> parameter allows you to limit an AZSC inventory run to specific Azure resource categories. This is especially useful when you need a targeted scan rather than a full-tenant inventory.</p> <p>Tip</p> <p>Category filtering can reduce run time by 70-90% for large tenants when you only need data from a specific service area.</p>"},{"location":"category-filtering/#supported-categories","title":"Supported Categories","text":"<code>-Category</code> Value Azure Portal Label Key Resource Types <code>AI</code> AI + Machine Learning Cognitive Services, OpenAI, ML Workspaces, Bot Services, AI Foundry <code>Analytics</code> Analytics Synapse, Databricks, Data Factory, Event Hub, Purview <code>Compute</code> Compute Virtual Machines, VMSS, Managed Disks, AVD, Cloud Services <code>Containers</code> Containers AKS, ARO, Container Apps, Container Registry <code>Databases</code> Databases SQL Server, PostgreSQL, MySQL, Cosmos DB, Redis Cache <code>Hybrid</code> Hybrid + multicloud Arc Servers, Arc Kubernetes, Azure Local Clusters, Arc Gateways <code>Identity</code> Identity Users, Groups, App Registrations, PIM, Conditional Access <code>Integration</code> Integration API Management, Service Bus, Event Hubs, Logic Apps <code>IoT</code> Internet of Things IoT Hub, IoT DPS <code>Management</code> Management and governance Subscriptions, Policy, Backup, Automation, Recovery Vault <code>Monitor</code> Monitor App Insights, DCRs, Action Groups, Alert Rules, Log Analytics <code>Networking</code> Networking VNets, NSGs, Load Balancers, VPN Gateways, Azure Firewall, Front Door <code>Security</code> Security Defender Assessments, Alerts, Secure Score, Key Vault <code>Storage</code> Storage Storage Accounts, Azure NetApp Files <code>Web</code> Web &amp; Mobile App Service Plans, App Services, Function Apps"},{"location":"category-filtering/#alias-support","title":"Alias Support","text":"<p>Long-form names displayed in the Azure portal are automatically normalized to their short equivalents:</p> <pre><code># These are equivalent:\nInvoke-AzureScout -TenantID $tid -Category 'IoT'\nInvoke-AzureScout -TenantID $tid -Category 'Internet of Things'\n\nInvoke-AzureScout -TenantID $tid -Category 'Monitor'\nInvoke-AzureScout -TenantID $tid -Category 'Monitoring'\n\nInvoke-AzureScout -TenantID $tid -Category 'Management'\nInvoke-AzureScout -TenantID $tid -Category 'Management and governance'\n</code></pre>"},{"location":"category-filtering/#usage-examples","title":"Usage Examples","text":""},{"location":"category-filtering/#single-category","title":"Single Category","text":"<pre><code># Inventory only Virtual Machines and related Compute resources\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category Compute\n</code></pre>"},{"location":"category-filtering/#multiple-categories","title":"Multiple Categories","text":"<pre><code># Inventory Compute and Networking together (common combination for network topology reviews)\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category Compute,Networking\n\n# Security audit: inventory Security + Identity\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category Security,Identity\n\n# Data platform review\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category Databases,Analytics,AI\n</code></pre>"},{"location":"category-filtering/#combine-with-output-format","title":"Combine with Output Format","text":"<pre><code># Targeted scan with JSON output only (fastest)\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category Networking -OutputFormat Json\n\n# Generate Markdown report for Compute only\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category Compute -OutputFormat Markdown\n</code></pre>"},{"location":"category-filtering/#full-inventory-default","title":"Full Inventory (Default)","text":"<pre><code># -Category defaults to 'All' \u2014 all categories included\nInvoke-AzureScout -TenantID &lt;tenant-id&gt;\n\n# Explicit equivalent\nInvoke-AzureScout -TenantID &lt;tenant-id&gt; -Category All\n</code></pre>"},{"location":"category-filtering/#how-category-filtering-works","title":"How Category Filtering Works","text":"<p>Note</p> <p>Category filtering is applied at the module discovery stage, before any Azure API calls are made. Only the selected category folders are loaded, which means Resource Graph queries are also restricted to the resource types defined in those modules.</p> <p>Execution flow with <code>-Category Compute</code>:</p> <pre><code>graph TD\n    A[Invoke-AzureScout] --&gt; B{Category specified?}\n    B -- Yes --&gt; C[Normalize aliases]\n    C --&gt; D[Load only Compute/*.ps1 modules]\n    D --&gt; E[Execute Processing blocks]\n    E --&gt; F[Azure Resource Graph query - Compute types only]\n    F --&gt; G[Execute Reporting blocks]\n    G --&gt; H[Write Excel / JSON / Markdown]\n    B -- No / All --&gt; I[Load ALL category modules]\n    I --&gt; E</code></pre>"},{"location":"category-filtering/#adding-new-categories","title":"Adding New Categories","text":"<p>To add a new category to AZSC:</p> <ol> <li>Create a folder under <code>Modules/Public/InventoryModules/&lt;CategoryName&gt;/</code></li> <li>Add the folder name to the <code>[ValidateSet]</code> for <code>-Category</code> in <code>Invoke-AzureScout.ps1</code></li> <li>Optionally add alias entries to <code>$_categoryAliasMap</code> for common name variants</li> <li>Update Category Structure with the new mapping</li> <li>Create one or more <code>.ps1</code> module files using the module template in <code>Modules/Public/InventoryModules/</code></li> </ol>"},{"location":"category-filtering/#see-also","title":"See Also","text":"<ul> <li>Category Structure reference</li> <li>Full Coverage Table</li> <li>AzureScout Documentation Home</li> </ul>"},{"location":"category-structure/","title":"Category Structure","text":"<p>This page maps the <code>-Category</code> parameter values to Microsoft's official Azure portal category names, the corresponding folder paths in the module tree, and the primary resource types covered.</p>"},{"location":"category-structure/#category-mapping","title":"Category Mapping","text":"<code>-Category</code> Value Azure Portal Label Module Folder Path <code>AI</code> AI + Machine Learning <code>Modules/Public/InventoryModules/AI/</code> <code>Analytics</code> Analytics <code>Modules/Public/InventoryModules/Analytics/</code> <code>Compute</code> Compute <code>Modules/Public/InventoryModules/Compute/</code> <code>Containers</code> Containers <code>Modules/Public/InventoryModules/Containers/</code> <code>Databases</code> Databases <code>Modules/Public/InventoryModules/Databases/</code> <code>Hybrid</code> Hybrid + multicloud <code>Modules/Public/InventoryModules/Hybrid/</code> <code>Identity</code> Identity <code>Modules/Public/InventoryModules/Identity/</code> <code>Integration</code> Integration <code>Modules/Public/InventoryModules/Integration/</code> <code>IoT</code> Internet of Things <code>Modules/Public/InventoryModules/IoT/</code> <code>Management</code> Management and governance <code>Modules/Public/InventoryModules/Management/</code> <code>Monitor</code> Monitor <code>Modules/Public/InventoryModules/Monitor/</code> <code>Networking</code> Networking <code>Modules/Public/InventoryModules/Networking/</code> <code>Security</code> Security <code>Modules/Public/InventoryModules/Security/</code> <code>Storage</code> Storage <code>Modules/Public/InventoryModules/Storage/</code> <code>Web</code> Web &amp; Mobile <code>Modules/Public/InventoryModules/Web/</code>"},{"location":"category-structure/#accepted-aliases","title":"Accepted Aliases","text":"<p>The following long-form names (as shown in the Azure portal) are automatically normalized to their short equivalents:</p> Input Normalized to <code>AI + machine learning</code> <code>AI</code> <code>Internet of Things</code> <code>IoT</code> <code>Monitoring</code> <code>Monitor</code> <code>Management and governance</code> <code>Management</code> <code>Web &amp; Mobile</code> <code>Web</code> <code>Hybrid + multicloud</code> <code>Hybrid</code> <code>Networking + CDN</code> <code>Networking</code>"},{"location":"category-structure/#category-selection-logic","title":"Category Selection Logic","text":"<p>When <code>-Category</code> is specified, AzureScout:</p> <ol> <li>Normalizes any alias values to canonical short names</li> <li>Loads only the module files inside the matching category folders</li> <li>Restricts Resource Graph and REST API queries to those modules' resource types</li> <li>Generates reports containing only the selected categories</li> </ol> <p>When <code>-Category All</code> is used (the default), all category folders are included.</p> <pre><code># Run only Compute and Security modules\nInvoke-AzureScout -Category Compute,Security\n\n# Full portal name also works\nInvoke-AzureScout -Category 'AI + machine learning'\n\n# Default \u2014 all categories\nInvoke-AzureScout\n</code></pre>"},{"location":"category-structure/#adding-a-new-category","title":"Adding a New Category","text":"<p>To add a new category:</p> <ol> <li>Create a new folder under <code>Modules/Public/InventoryModules/</code></li> <li>Add the folder name to <code>[ValidateSet]</code> for <code>-Category</code> in <code>Invoke-AzureScout.ps1</code></li> <li>Add any alias entries to the <code>$_categoryAliasMap</code> hashtable in <code>Invoke-AzureScout.ps1</code></li> <li>Update the Coverage Table with the new modules</li> </ol> <p>See Contributing for full guidance on adding modules.</p>"},{"location":"changelog/","title":"Changelog","text":"<p>The full changelog is maintained in the repository root and rendered on GitHub.</p> <p>View CHANGELOG.md on GitHub</p>"},{"location":"changelog/#summary","title":"Summary","text":"<p>AzureScout follows Keep a Changelog format and Semantic Versioning.</p> Version Highlights v1.0.0 Full rename to AzureScout (AZSC prefix), 170+ ARM modules, 15 Entra ID modules, Excel + JSON + Markdown + AsciiDoc output, draw.io diagrams, permission pre-flight, category filtering, MkDocs Material docs site"},{"location":"contributing/","title":"Contributing","text":"<p>The full contributing guide is maintained in the repository root and rendered on GitHub.</p> <p>View CONTRIBUTING.md on GitHub</p>"},{"location":"contributing/#quick-reference","title":"Quick Reference","text":"<ul> <li>Fork the repo and create a feature branch</li> <li>New ARM modules go in <code>Modules/Public/InventoryModules/&lt;Category&gt;/</code></li> <li>New Entra modules go in <code>Modules/Public/PublicFunctions/Identity/</code></li> <li>Use the <code>Modules/Public/InventoryModules/Module-template.tpl</code> as your starting point</li> <li>Add a Pester test in <code>tests/</code> for any new public function</li> <li>Open a PR against <code>main</code> \u2014 describe what resource type you added and why</li> </ul> <p>See ARM Modules and Entra Modules for the current catalog.</p>"},{"location":"coverage-table/","title":"Coverage Table","text":"<p>This page lists every inventory module in AzureScout, the Azure resource type(s) it covers, and the Excel worksheet it writes to.</p>"},{"location":"coverage-table/#coverage-summary","title":"Coverage Summary","text":"Category Modules Notes AI 27 Cognitive Services, OpenAI, ML, Bot Services, AI Foundry Analytics 6 Synapse, Databricks, Event Hub, Purview, Stream Analytics Compute 14 VMs, VMSS, Disks, AVD, CloudServices, VMware Containers 6 AKS, ARO, Container Apps, Container Registry Databases 13 SQL, PostgreSQL, MySQL, Cosmos DB, Redis Hybrid 16 Arc Servers, Arc Kubernetes, Azure Local, Arc Gateways Identity 18 Users, Groups, Apps, Roles, PIM, Conditional Access Integration 2 API Management, Service Bus IoT 1 IoT Hub Management 14 Advisor, Backup, Policy, Subscriptions, Recovery Vault Monitor 24 App Insights, DCRs, Action Groups, Alert Rules, Workspaces Networking 21 VNets, NSGs, Load Balancers, VPN, Firewall, Front Door Security 5 Defender Alerts, Assessments, Secure Score, Key Vault Storage 2 Storage Accounts, NetApp Files Web 2 App Service, App Service Plans Total 171"},{"location":"coverage-table/#ai-category-27-modules","title":"AI Category (27 modules)","text":"Module Resource Type Worksheet AIFoundryHubs <code>Microsoft.MachineLearningServices/workspaces</code> (kind=Hub) AI Foundry Hubs AIFoundryProjects <code>Microsoft.MachineLearningServices/workspaces</code> (kind=Project) AI Foundry Projects AppliedAIServices <code>Microsoft.CognitiveServices/accounts</code> (Applied AI) Applied AI Services AzureAI <code>Microsoft.CognitiveServices/accounts</code> Cognitive Services BotServices <code>Microsoft.BotService/botServices</code> Bot Services ComputerVision <code>Microsoft.CognitiveServices/accounts</code> (computerVision) Computer Vision ContentModerator <code>Microsoft.CognitiveServices/accounts</code> (ContentModerator) Content Moderator ContentSafety <code>Microsoft.CognitiveServices/accounts</code> (ContentSafety) Content Safety CustomVision <code>Microsoft.CognitiveServices/accounts</code> (CustomVision) Custom Vision FaceAPI <code>Microsoft.CognitiveServices/accounts</code> (Face) Face API FormRecognizer <code>Microsoft.CognitiveServices/accounts</code> (FormRecognizer) Form Recognizer HealthInsights <code>Microsoft.HealthInsights/imagingStudies</code> Health Insights ImmersiveReader <code>Microsoft.CognitiveServices/accounts</code> (ImmersiveReader) Immersive Reader MachineLearning <code>Microsoft.MachineLearningServices/workspaces</code> ML Workspaces MLComputes <code>Microsoft.MachineLearningServices/workspaces/computes</code> ML Computes MLDatasets ML Datasets API ML Datasets MLDatastores ML Datastores API ML Datastores MLEndpoints ML Online Endpoints API ML Endpoints MLModels ML Models API ML Models MLPipelines ML Pipeline Jobs API ML Pipelines OpenAIAccounts <code>Microsoft.CognitiveServices/accounts</code> (OpenAI) OpenAI Accounts OpenAIDeployments OpenAI Deployments API OpenAI Deployments SearchIndexes Azure Search Indexes API Search Indexes SearchServices <code>Microsoft.Search/searchServices</code> Search Services SpeechService <code>Microsoft.CognitiveServices/accounts</code> (SpeechServices) Speech Services TextAnalytics <code>Microsoft.CognitiveServices/accounts</code> (TextAnalytics) Text Analytics Translator <code>Microsoft.CognitiveServices/accounts</code> (TextTranslation) Translator"},{"location":"coverage-table/#compute-category-14-modules","title":"Compute Category (14 modules)","text":"Module Resource Type Worksheet VirtualMachine <code>Microsoft.Compute/virtualMachines</code> Virtual Machines VirtualMachineScaleSet <code>Microsoft.Compute/virtualMachineScaleSets</code> VM Scale Sets VMDisk <code>Microsoft.Compute/disks</code> Managed Disks AvailabilitySets <code>Microsoft.Compute/availabilitySets</code> Availability Sets AVD <code>Microsoft.DesktopVirtualization/hostpools</code> AVD Host Pools AVDSessionHosts AVD Session Hosts API AVD Session Hosts AVDApplicationGroups <code>Microsoft.DesktopVirtualization/applicationgroups</code> AVD App Groups AVDApplications AVD Applications API AVD Applications AVDWorkspaces <code>Microsoft.DesktopVirtualization/workspaces</code> AVD Workspaces AVDScalingPlans <code>Microsoft.DesktopVirtualization/scalingplans</code> AVD Scaling Plans AVDAzureLocal Arc Machines + HCI VMs (AVD on Azure Local) AVD on Azure Local/Arc CloudServices <code>Microsoft.Compute/cloudServices</code> Cloud Services VMWare <code>Microsoft.ConnectedVMwarevSphere/virtualMachines</code> VMware VMs VMOperationalData (operational enrichment) VM Operational Data"},{"location":"coverage-table/#hybrid-category-16-modules","title":"Hybrid Category (16 modules)","text":"Module Resource Type Worksheet ARCServers <code>Microsoft.HybridCompute/machines</code> Arc Servers ArcExtensions <code>Microsoft.HybridCompute/machines/extensions</code> Arc Extensions ArcGateways <code>Microsoft.HybridCompute/gateways</code> Arc Gateways ArcKubernetes <code>Microsoft.Kubernetes/connectedClusters</code> Arc Kubernetes ArcResourceBridge <code>Microsoft.ResourceConnector/appliances</code> Arc Resource Bridge ArcDataControllers <code>Microsoft.AzureArcData/dataControllers</code> Arc Data Controllers ArcSQLServers <code>Microsoft.AzureArcData/sqlServerInstances</code> Arc SQL Servers ArcSQLManagedInstances <code>Microsoft.AzureArcData/sqlManagedInstances</code> Arc SQL Managed Instances ArcSites <code>Microsoft.ExtendedLocation/customLocations</code> Arc Sites ArcServerOperationalData (enrichment) Arc Server Operational Data Clusters <code>Microsoft.AzureStackHCI/clusters</code> Azure Local Clusters VirtualMachines <code>Microsoft.AzureStackHCI/virtualMachineInstances</code> Azure Local VMs LogicalNetworks <code>Microsoft.AzureStackHCI/logicalNetworks</code> Azure Local Networks StorageContainers <code>Microsoft.AzureStackHCI/storageContainers</code> Azure Local Storage GalleryImages <code>Microsoft.AzureStackHCI/galleryImages</code> Azure Local Gallery MarketplaceGalleryImages <code>Microsoft.AzureStackHCI/marketplaceGalleryImages</code> Azure Local Marketplace"},{"location":"coverage-table/#networking-category-21-modules","title":"Networking Category (21 modules)","text":"Module Resource Type VirtualNetwork <code>Microsoft.Network/virtualNetworks</code> vNETPeering <code>Microsoft.Network/virtualNetworks/virtualNetworkPeerings</code> NetworkSecurityGroup <code>Microsoft.Network/networkSecurityGroups</code> NetworkInterface <code>Microsoft.Network/networkInterfaces</code> PublicIP <code>Microsoft.Network/publicIPAddresses</code> LoadBalancer <code>Microsoft.Network/loadBalancers</code> ApplicationGateways <code>Microsoft.Network/applicationGateways</code> VirtualNetworkGateways <code>Microsoft.Network/virtualNetworkGateways</code> Connections <code>Microsoft.Network/connections</code> ExpressRoute <code>Microsoft.Network/expressRouteCircuits</code> AzureFirewall <code>Microsoft.Network/azureFirewalls</code> BastionHosts <code>Microsoft.Network/bastionHosts</code> NATGateway <code>Microsoft.Network/natGateways</code> PrivateEndpoint <code>Microsoft.Network/privateEndpoints</code> PrivateDNS <code>Microsoft.Network/privateDnsZones</code> PublicDNS <code>Microsoft.Network/dnsZones</code> RouteTables <code>Microsoft.Network/routeTables</code> NetworkWatchers <code>Microsoft.Network/networkWatchers</code> Frontdoor <code>Microsoft.Network/frontDoors</code> TrafficManager <code>Microsoft.Network/trafficManagerProfiles</code> VirtualWAN <code>Microsoft.Network/virtualWans</code> <p>Last updated: February 2026. See Category Structure for folder mapping details.</p>"},{"location":"credits/","title":"Credits &amp; Attribution","text":"<p>Important</p> <p>AzureScout exists because of Azure Resource Inventory (ARI). Without the foundation built by the ARI team at Microsoft, this project would not exist.</p> <p>The full credits file is maintained in the repository root and rendered on GitHub.</p> <p>View CREDITS.md on GitHub</p>"},{"location":"credits/#fork-origin","title":"Fork Origin","text":"<p>AzureScout was forked from microsoft/ARI (Azure Resource Inventory) at version 3.6.11 in October 2024. The original project provided the entire extraction, processing, and reporting pipeline \u2014 including 171 ARM inventory modules, the draw.io diagram engine, Excel/ImportExcel integration, and Azure Automation Account support.</p>"},{"location":"credits/#original-authors","title":"Original Authors","text":"Author Role Claudio Merola Original ARI creator and primary developer Renato Gregio Original ARI co-author and copyright holder <p>We are deeply grateful for their work. The ARI project remains actively maintained at github.com/microsoft/ARI and we encourage users to check it out.</p>"},{"location":"credits/#what-has-changed","title":"What Has Changed","text":"<p>For a detailed breakdown of what AzureScout has added, changed, and diverged from the original ARI codebase, see Differences from ARI.</p>"},{"location":"credits/#additional-acknowledgments","title":"Additional Acknowledgments","text":"<ul> <li>Doug Finke \u2014 Author of ImportExcel, the PowerShell module used for Excel report generation (MIT license).</li> <li>Microsoft \u2014 Azure PowerShell SDK (<code>Az.*</code> modules), Azure Resource Graph, and Microsoft Graph REST API.</li> <li>All ARI contributors \u2014 The 29 contributors who built and refined ARI over six years.</li> </ul>"},{"location":"credits/#license-disclaimer","title":"License &amp; Disclaimer","text":"<p>Both the original ARI project and AzureScout are licensed under the MIT License. See LICENSE for full details.</p> <p>AzureScout is an independent community project and is not affiliated with or endorsed by Microsoft.</p>"},{"location":"entra-modules/","title":"Entra ID Inventory Modules","text":""},{"location":"entra-modules/#overview","title":"Overview","text":"<p>AzureScout includes 15 Entra ID (Identity) inventory modules that extract tenant-wide identity and access management data via the Microsoft Graph API.</p> <p>Run Entra-only extraction with:</p> <pre><code>Invoke-AzureScout -Scope EntraOnly\n</code></pre>"},{"location":"entra-modules/#how-entra-extraction-works","title":"How Entra Extraction Works","text":"<p>The <code>Start-AZSCEntraExtraction</code> function calls <code>Invoke-AZSCGraphRequest</code> for each Entra module, which:</p> <ol> <li>Authenticates via the Graph token obtained during login</li> <li>Queries the relevant Microsoft Graph endpoint</li> <li>Handles pagination (following <code>@odata.nextLink</code>)</li> <li>Normalizes each result into a consistent resource shape:</li> </ol> <pre><code>{\n  \"id\": \"...\",\n  \"name\": \"Display Name\",\n  \"TYPE\": \"microsoft.graph/users\",\n  \"tenantId\": \"00000000-...\",\n  \"properties\": { }\n}\n</code></pre>"},{"location":"entra-modules/#module-catalog","title":"Module Catalog","text":"Module Graph Endpoint Description AdminUnits <code>/administrativeUnits</code> Administrative units for delegated management AppRegistrations <code>/applications</code> Application registrations (app IDs, credentials, API permissions) ConditionalAccess <code>/identity/conditionalAccess/policies</code> Conditional Access policies (requires <code>Policy.Read.ConditionalAccess</code>) CrossTenantAccess <code>/policies/crossTenantAccessPolicy/partners</code> B2B cross-tenant access settings DirectoryRoles <code>/directoryRoles</code> Activated directory roles and their members Domains <code>/domains</code> Verified and unverified domains Groups <code>/groups</code> Security groups, Microsoft 365 groups, distribution lists Licensing <code>/subscribedSkus</code> License SKUs and service plan assignments ManagedIdentities <code>/servicePrincipals</code> (filtered) Managed identities (system and user-assigned) NamedLocations <code>/identity/conditionalAccess/namedLocations</code> Trusted locations for conditional access PIMAssignments <code>/roleManagement/directory/roleAssignments</code> Privileged Identity Management (PIM) role assignments RiskyUsers <code>/identityProtection/riskyUsers</code> Users flagged by Identity Protection SecurityPolicies <code>/policies/authorizationPolicy</code> Tenant security defaults and authorization policies ServicePrincipals <code>/servicePrincipals</code> Enterprise applications and service principals Users <code>/users</code> All user accounts (members and guests)"},{"location":"entra-modules/#data-normalization","title":"Data Normalization","text":"<p>All 15 Entra modules produce output in the same normalized shape:</p> Field Source <code>id</code> Graph object <code>id</code> <code>name</code> <code>displayName</code> (or most relevant name field) <code>TYPE</code> Synthetic type string (e.g., <code>microsoft.graph/users</code>) <code>tenantId</code> Tenant ID from the current session <code>properties</code> Full Graph object properties <p>This normalization allows ARM and Entra resources to be processed by the same reporting pipeline.</p>"},{"location":"entra-modules/#graceful-degradation","title":"Graceful Degradation","text":"<p>If a single Entra query fails (e.g., insufficient permissions for Conditional Access policies), the module:</p> <ul> <li>Logs a warning</li> <li>Continues with the remaining 14 queries</li> <li>Returns partial results rather than failing entirely</li> </ul> <p>If all queries fail, the function returns an empty <code>EntraResources</code> collection.</p>"},{"location":"folder-structure/","title":"Repository Structure","text":""},{"location":"folder-structure/#overview","title":"Overview","text":"<p>This page documents the repository layout after the Phase 1B reorganization. Numbered-prefix folders were renamed, duplicate directories merged, legacy code removed, and the docs tree uses MkDocs Material with Markdown.</p>"},{"location":"folder-structure/#directory-tree","title":"Directory Tree","text":"<pre><code>azure-scout/\n\u251c\u2500\u2500 .github/                            # GitHub config (issue templates, workflows, policies)\n\u2502   \u251c\u2500\u2500 ISSUE_TEMPLATE/\n\u2502   \u251c\u2500\u2500 policies/\n\u2502   \u251c\u2500\u2500 PULL_REQUEST_TEMPLATE/\n\u2502   \u2514\u2500\u2500 workflows/\n\u251c\u2500\u2500 docs/                               # MkDocs documentation\n\u2502   \u251c\u2500\u2500 images/                         #   All consolidated images\n\u2502   \u251c\u2500\u2500 index.md                        #   Home page\n\u2502   \u251c\u2500\u2500 authentication.md              #   Authentication methods\n\u2502   \u251c\u2500\u2500 usage.md                        #   Usage guide\n\u2502   \u251c\u2500\u2500 permissions.md                  #   Required permissions\n\u2502   \u251c\u2500\u2500 parameters.md                   #   Parameters reference\n\u2502   \u251c\u2500\u2500 category-filtering.md           #   Category filtering\n\u2502   \u251c\u2500\u2500 output.md                       #   Output files\n\u2502   \u251c\u2500\u2500 prerequisites.md               #   Prerequisites &amp; modules\n\u2502   \u251c\u2500\u2500 testing.md                      #   Testing guide\n\u2502   \u251c\u2500\u2500 troubleshooting.md             #   Troubleshooting\n\u2502   \u251c\u2500\u2500 arm-modules.md                  #   ARM module catalog\n\u2502   \u251c\u2500\u2500 entra-modules.md               #   Entra module catalog\n\u2502   \u251c\u2500\u2500 coverage-table.md              #   Full coverage table\n\u2502   \u251c\u2500\u2500 category-structure.md           #   Category-to-folder mapping\n\u2502   \u251c\u2500\u2500 roadmap.md                      #   Roadmap &amp; planned features\n\u2502   \u251c\u2500\u2500 folder-structure.md             #   This page\n\u2502   \u251c\u2500\u2500 contributing.md                 #   Contributing guide\n\u2502   \u251c\u2500\u2500 credits.md                      #   Credits &amp; attribution\n\u2502   \u251c\u2500\u2500 ari-differences.md             #   Differences from ARI\n\u2502   \u2514\u2500\u2500 changelog.md                    #   Changelog\n\u251c\u2500\u2500 Modules/\n\u2502   \u251c\u2500\u2500 Private/                        # Internal (non-exported) functions\n\u2502   \u2502   \u251c\u2500\u2500 Main/                       #   Core orchestration (was 0.MainFunctions)\n\u2502   \u2502   \u251c\u2500\u2500 Extraction/                 #   Data extraction  (was 1.ExtractionFunctions)\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ResourceDetails/\n\u2502   \u2502   \u251c\u2500\u2500 Processing/                 #   Data processing  (was 2.ProcessingFunctions)\n\u2502   \u2502   \u2514\u2500\u2500 Reporting/                  #   Report generation (was 3.ReportingFunctions)\n\u2502   \u2502       \u2514\u2500\u2500 StyleFunctions/\n\u2502   \u2514\u2500\u2500 Public/                         # Exported functions &amp; runtime modules\n\u2502       \u251c\u2500\u2500 InventoryModules/           #   110 modules in 17 categories (95 ARM + 15 Entra)\n\u2502       \u2502   \u251c\u2500\u2500 AI/                     #   14 modules\n\u2502       \u2502   \u251c\u2500\u2500 Analytics/              #   6 modules\n\u2502       \u2502   \u251c\u2500\u2500 APIs/                   #   5 modules\n\u2502       \u2502   \u251c\u2500\u2500 AzureLocal/             #   6 modules\n\u2502       \u2502   \u251c\u2500\u2500 Compute/                #   7 modules\n\u2502       \u2502   \u251c\u2500\u2500 Container/              #   6 modules\n\u2502       \u2502   \u251c\u2500\u2500 Database/               #   13 modules\n\u2502       \u2502   \u251c\u2500\u2500 Hybrid/                 #   5 modules\n\u2502       \u2502   \u251c\u2500\u2500 Identity/               #   15 Entra ID modules\n\u2502       \u2502   \u251c\u2500\u2500 Integration/            #   2 modules\n\u2502       \u2502   \u251c\u2500\u2500 IoT/                    #   1 module\n\u2502       \u2502   \u251c\u2500\u2500 Management/             #   3 modules\n\u2502       \u2502   \u251c\u2500\u2500 Monitoring/             #   2 modules\n\u2502       \u2502   \u251c\u2500\u2500 Network/               #   20 modules (merged Network_1 + Network_2)\n\u2502       \u2502   \u251c\u2500\u2500 Security/               #   1 module\n\u2502       \u2502   \u251c\u2500\u2500 Storage/                #   2 modules\n\u2502       \u2502   \u2514\u2500\u2500 Web/                    #   2 modules\n\u2502       \u2514\u2500\u2500 PublicFunctions/            #   13 exported cmdlets\n\u2502           \u251c\u2500\u2500 Diagram/\n\u2502           \u2514\u2500\u2500 Jobs/\n\u251c\u2500\u2500 tests/                              # Pester test suites\n\u251c\u2500\u2500 mkdocs.yml                          # MkDocs Material configuration\n\u251c\u2500\u2500 AzureScout.psd1                     # Module manifest\n\u251c\u2500\u2500 AzureScout.psm1                     # Module loader (recursive *.ps1 import)\n\u251c\u2500\u2500 CHANGELOG.md\n\u251c\u2500\u2500 CODE_OF_CONDUCT.md\n\u251c\u2500\u2500 CONTRIBUTING.md\n\u251c\u2500\u2500 CREDITS.md\n\u251c\u2500\u2500 LICENSE\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 SECURITY.md\n\u2514\u2500\u2500 SUPPORT.md\n</code></pre>"},{"location":"folder-structure/#phase-1b-changes-summary","title":"Phase 1B Changes Summary","text":"Action Detail Renamed <code>0.MainFunctions</code> \u2192 <code>Main</code>, <code>1.ExtractionFunctions</code> \u2192 <code>Extraction</code>, <code>2.ProcessingFunctions</code> \u2192 <code>Processing</code>, <code>3.ReportingFunctions</code> \u2192 <code>Reporting</code> Merged <code>Network_1/</code> + <code>Network_2/</code> \u2192 <code>Network/</code> (20 files) Deleted <code>4.RAMPFunctions/</code> (untracked .xlsx), <code>LegacyFunctions/</code> (6 .ps2 files), <code>azure-pipelines/</code> Cleaned Root clutter: <code>HowTo.md</code>, 5 <code>test-*.sh</code> scripts, <code>workflow_dispatch.json</code> Converted Documentation to MkDocs Material with Markdown; images consolidated into <code>docs/images/</code> Kept <code>Hybrid/</code> directory \u2014 validated as active module category"},{"location":"folder-structure/#module-loading","title":"Module Loading","text":"<p>The PSM1 loader uses <code>Get-ChildItem -Recurse *.ps1</code>. Folder names are cosmetic \u2014 renaming or merging directories has zero impact on which functions are loaded. 13 public functions are exported via the PSD1 manifest.</p>"},{"location":"output/","title":"Output Files","text":""},{"location":"output/#default-output-location","title":"Default Output Location","text":"OS Path Windows <code>C:\\AzureScout\\</code> Linux / macOS <code>$HOME/AzureScout/</code> <p>Override with <code>-ReportDir</code>:</p> <pre><code>Invoke-AzureScout -TenantID '00000000-...' -ReportDir 'D:\\Reports' -ReportName 'Q1-Inventory'\n</code></pre>"},{"location":"output/#generated-files","title":"Generated Files","text":"File Format Description <code>AzureScout_Report_&lt;timestamp&gt;.xlsx</code> Excel Interactive spreadsheet with all inventory data, charts, pivot tables, and conditional formatting <code>AzureScout_Report_&lt;timestamp&gt;.json</code> JSON Machine-readable inventory with <code>_metadata</code> envelope <code>AzureScout_Report_&lt;timestamp&gt;.md</code> Markdown GitHub-Flavored Markdown with pipe tables per module <code>AzureScout_Report_&lt;timestamp&gt;.adoc</code> AsciiDoc AsciiDoc document for Antora/Confluence rendering <code>AzureScout_Diagram_&lt;timestamp&gt;.drawio</code> Draw.io Network topology diagram (skip with <code>-SkipDiagram</code>)"},{"location":"output/#json-structure","title":"JSON Structure","text":"<pre><code>{\n  \"_metadata\": {\n    \"tool\": \"AzureScout\",\n    \"version\": \"1.0.0\",\n    \"tenantId\": \"...\",\n    \"subscriptions\": [\"...\"],\n    \"generatedAt\": \"2026-02-25T...\",\n    \"scope\": \"All\"\n  },\n  \"arm\": {\n    \"compute\": { },\n    \"network\": { },\n    \"storage\": { }\n  },\n  \"entra\": {\n    \"users\": [ ],\n    \"groups\": [ ],\n    \"appRegistrations\": [ ]\n  },\n  \"advisory\": [ ],\n  \"policy\": [ ],\n  \"security\": [ ],\n  \"quotas\": [ ]\n}\n</code></pre> <ul> <li><code>_metadata</code> \u2014 Execution context: tool version, tenant, scope, timestamp</li> <li><code>arm</code> \u2014 ARM resources grouped by category</li> <li><code>entra</code> \u2014 Entra ID objects grouped by type</li> <li><code>advisory</code> / <code>policy</code> / <code>security</code> / <code>quotas</code> \u2014 Cross-cutting data collected during the run</li> </ul>"},{"location":"output/#excel-workbook-tabs","title":"Excel Workbook Tabs","text":"<p>The Excel report contains the following tab groups (in order):</p> <ol> <li>Overview \u2014 Tenant metadata, resource summary, execution info</li> <li>Cost Management \u2014 Reservations, cost recommendations, spend analysis</li> <li>Security Overview \u2014 Defender secure score, assessments, alerts, policy compliance</li> <li>Azure Update Manager Overview \u2014 VM/Arc patch compliance, maintenance schedules</li> <li>Azure Monitor \u2014 Action groups, alert rules, DCRs, workspaces, diagnostic settings</li> <li>Resource tabs \u2014 One worksheet per ARM resource type (Subscriptions, VMs, Networks, etc.)</li> <li>Entra ID tabs \u2014 One worksheet per Entra module (Users, Groups, Conditional Access, etc.)</li> </ol>"},{"location":"output/#output-format-control","title":"Output Format Control","text":"<p>Use <code>-OutputFormat</code> to produce only the formats you need:</p> <pre><code># JSON only \u2014 fastest, no Excel formatting overhead\nInvoke-AzureScout -TenantID '00000000-...' -OutputFormat Json\n\n# Excel only\nInvoke-AzureScout -TenantID '00000000-...' -OutputFormat Excel\n\n# Markdown only\nInvoke-AzureScout -TenantID '00000000-...' -OutputFormat Markdown\n\n# AsciiDoc only\nInvoke-AzureScout -TenantID '00000000-...' -OutputFormat AsciiDoc\n\n# All formats (default)\nInvoke-AzureScout -TenantID '00000000-...' -OutputFormat All\n</code></pre>"},{"location":"parameters/","title":"Parameters Reference","text":""},{"location":"parameters/#invoke-azurescout-parameters","title":"Invoke-AzureScout Parameters","text":""},{"location":"parameters/#core","title":"Core","text":"Parameter Description <code>-TenantID</code> Target Azure AD / Entra ID tenant ID <code>-SubscriptionID</code> Limit to one or more specific subscription IDs (comma-separated or array) <code>-ResourceGroup</code> Limit to one or more specific resource groups <code>-ManagementGroup</code> Inventory all subscriptions under a management group <code>-Scope</code> <code>ArmOnly</code> (default), <code>All</code>, or <code>EntraOnly</code> \u2014 controls which data domains are inventoried <code>-OutputFormat</code> <code>All</code> (default), <code>Excel</code>, <code>Json</code>, <code>Markdown</code> (<code>MD</code>), <code>AsciiDoc</code> (<code>Adoc</code>) \u2014 controls report file types <code>-Category</code> Filter by resource category: <code>AI</code>, <code>Analytics</code>, <code>Compute</code>, <code>Containers</code>, <code>Databases</code>, <code>Hybrid</code>, <code>Identity</code>, <code>Integration</code>, <code>IoT</code>, <code>Management</code>, <code>Monitor</code>, <code>Networking</code>, <code>Security</code>, <code>Storage</code>, <code>Web</code> \u2014 see Category Filtering"},{"location":"parameters/#authentication","title":"Authentication","text":"Parameter Description <code>-AppId</code> Service principal application (client) ID <code>-Secret</code> Service principal client secret or certificate password <code>-CertificatePath</code> Path to <code>.pfx</code> certificate file for SPN authentication <code>-DeviceLogin</code> Use device code authentication flow (for headless/remote sessions) <p>See Authentication for detailed examples of each method.</p>"},{"location":"parameters/#content-options","title":"Content Options","text":"Parameter Description <code>-SecurityCenter</code> Include Microsoft Defender for Cloud data (assessments, alerts, secure score) <code>-IncludeTags</code> Include resource tags in Excel worksheets <code>-SkipPolicy</code> Skip Azure Policy compliance collection <code>-SkipAdvisory</code> Skip Azure Advisor recommendation collection <code>-SkipVMDetails</code> Skip extra VM detail collection (extensions, boot diagnostics status) <code>-SkipDiagram</code> Skip network diagram generation <code>-SkipPermissionCheck</code> Skip the pre-flight permission validation"},{"location":"parameters/#output","title":"Output","text":"Parameter Description <code>-ReportName</code> Custom report filename (default: <code>AzureScout_Report_&lt;timestamp&gt;</code>) <code>-ReportDir</code> Custom output directory (default: <code>C:\\AzureScout\\</code> on Windows, <code>$HOME/AzureScout/</code> on Linux/Mac) <code>-Lite</code> Lightweight Excel report \u2014 no charts or pivot tables"},{"location":"parameters/#diagram","title":"Diagram","text":"Parameter Description <code>-DiagramFullEnvironment</code> Include all network components in the draw.io topology diagram"},{"location":"parameters/#other","title":"Other","text":"Parameter Description <code>-AzureEnvironment</code> Target Azure cloud: <code>AzureCloud</code> (default), <code>AzureUSGovernment</code>, <code>AzureChinaCloud</code>, <code>AzureGermanCloud</code> <code>-Debug</code> Verbose debug output during extraction and processing"},{"location":"parameters/#test-azscpermissions-parameters","title":"Test-AZSCPermissions Parameters","text":"Parameter Description <code>-TenantID</code> Target tenant ID to validate permissions against <code>-Scope</code> <code>All</code> (default), <code>ArmOnly</code>, or <code>EntraOnly</code> \u2014 controls which permission checks run <p>Returns a structured object:</p> <pre><code>$result = Test-AZSCPermissions -TenantID '00000000-...' -Scope All\n$result.ArmAccess    # $true / $false\n$result.GraphAccess  # $true / $false\n$result.Details      # Array of check results with remediation guidance\n</code></pre> <p>See Permissions for the full list of required roles and API permissions.</p>"},{"location":"permissions/","title":"Required Permissions","text":""},{"location":"permissions/#overview","title":"Overview","text":"<p>AzureScout requires two categories of permissions:</p> <ol> <li>ARM (Azure Resource Manager) \u2014 RBAC role assignments on subscriptions</li> <li>Microsoft Graph API \u2014 Application or delegated permissions for Entra ID data</li> </ol>"},{"location":"permissions/#arm-permissions","title":"ARM Permissions","text":"Permission Scope Purpose <code>Reader</code> Subscription(s) Enumerate resources, read properties <code>Reader</code> on role assignments Subscription(s) Read RBAC role assignments (optional \u2014 Warn if missing) <p>The pre-flight checker validates:</p> <ul> <li>Subscription Enumeration \u2014 Can <code>Get-AzSubscription</code> return at least one subscription? (Fail if not)</li> <li>Role Assignment Read \u2014 Can <code>Get-AzRoleAssignment</code> read roles on the first subscription? (Warn if not \u2014 non-blocking)</li> </ul>"},{"location":"permissions/#microsoft-graph-permissions","title":"Microsoft Graph Permissions","text":"<p>The following Microsoft Graph API permissions are required for Entra ID inventory:</p> Permission Type Purpose <code>Organization.Read.All</code> Application or Delegated Read tenant organization details <code>User.Read.All</code> Application or Delegated Read all user profiles <code>Group.Read.All</code> Application or Delegated Read all groups and memberships <code>Application.Read.All</code> Application or Delegated Read all app registrations and service principals <code>Directory.Read.All</code> Application or Delegated Read directory roles, administrative units, domains <code>Policy.Read.All</code> Application or Delegated Read conditional access policies, named locations <code>RoleManagement.Read.All</code> Application or Delegated Read PIM role assignments and eligible assignments <code>IdentityProvider.Read.All</code> Application or Delegated Read authentication methods and identity providers <code>Policy.Read.ConditionalAccess</code> Application or Delegated Read conditional access policies (optional \u2014 Warn only)"},{"location":"permissions/#pre-flight-validation","title":"Pre-flight Validation","text":"<p>The <code>Test-AZSCPermissions</code> function runs automatically before extraction (unless <code>-SkipPermissionCheck</code> is set):</p> Check Severity Behavior ARM: Subscription Enumeration Fail Stops ARM extraction if no subscriptions accessible ARM: Role Assignment Read Warn Continues \u2014 some RBAC data may be missing Graph: Organization Read Fail Stops Entra extraction if organization endpoint is inaccessible Graph: User Read Fail Stops Entra extraction if user endpoint is inaccessible Graph: Conditional Access Policies Warn Continues \u2014 CA policy data may be missing"},{"location":"permissions/#scope-based-gating","title":"Scope-Based Gating","text":"<p>Permission checks respect the <code>-Scope</code> parameter:</p> <ul> <li><code>ArmOnly</code> \u2014 Only ARM checks run (Graph checks are skipped entirely)</li> <li><code>EntraOnly</code> \u2014 Only Graph checks run (ARM checks are skipped entirely)</li> <li><code>All</code> \u2014 Both ARM and Graph checks run</li> </ul>"},{"location":"permissions/#remediation","title":"Remediation","text":"<p>If the permission checker reports failures:</p> <ol> <li>For ARM: Ensure <code>Reader</code> role is assigned on target subscriptions</li> <li>For Graph: Grant the required Microsoft Graph API permissions to your app registration or user account</li> <li>Re-run with the appropriate credentials</li> </ol>"},{"location":"prerequisites/","title":"Prerequisites &amp; Required Modules","text":""},{"location":"prerequisites/#system-requirements","title":"System Requirements","text":"Requirement Details PowerShell 7.0 or later (PowerShell Core). Windows PowerShell 5.1 is not supported. Operating System Windows, Linux, or macOS Azure Account An Azure identity with read access to target resources Entra ID Access <code>Directory.Read.All</code> or equivalent \u2014 required only for <code>-Scope All</code> or <code>-Scope EntraOnly</code>"},{"location":"prerequisites/#required-powershell-modules","title":"Required PowerShell Modules","text":"<p>AzureScout auto-installs missing modules at first load. If auto-install fails (e.g., restricted network), install them manually.</p> Module Purpose Required? <code>Az.Accounts</code> Azure authentication and token acquisition Yes <code>Az.ResourceGraph</code> ARM resource extraction via batch KQL Yes (ARM scope) <code>Az.Compute</code> VM SKU and quota details Yes (ARM scope) <code>Az.Resources</code> Role assignments and policy data Yes <code>ImportExcel</code> Excel report generation (.xlsx) Yes (for Excel output) <code>Az.Storage</code> Upload report to Azure Storage account Optional (only with <code>-StorageAccount</code>) <p>NOT required: Any <code>Microsoft.Graph.*</code> module. AzureScout uses <code>Get-AzAccessToken -ResourceTypeName MSGraph</code> with REST calls instead.</p>"},{"location":"prerequisites/#manual-installation","title":"Manual Installation","text":"<pre><code>Install-Module -Name Az.Accounts -Scope CurrentUser -Force\nInstall-Module -Name Az.ResourceGraph -Scope CurrentUser -Force\nInstall-Module -Name Az.Compute -Scope CurrentUser -Force\nInstall-Module -Name Az.Resources -Scope CurrentUser -Force\nInstall-Module -Name ImportExcel -Scope CurrentUser -Force\n</code></pre>"},{"location":"prerequisites/#required-azure-resource-providers","title":"Required Azure Resource Providers","text":"<p>AZSC queries the following resource providers during its pre-flight permission audit.</p> <p>Important</p> <p>Not all resource providers will be \u2014 or should be \u2014 registered in every subscription. This is completely normal. Azure only registers providers for services you actually use, and most organisations deliberately limit provider registration per subscription as a governance best practice. For example, a connectivity subscription will not have <code>Microsoft.MachineLearningServices</code> registered, and an identity subscription will not have <code>Microsoft.DesktopVirtualization</code>. The <code>[FAIL]</code> and <code>[WARN]</code> messages in the permission audit output are informational, not errors \u2014 they tell you which modules will be skipped because the corresponding service is not deployed in that subscription. The scan will complete successfully regardless.</p> <p>If a provider is not registered, the corresponding inventory modules are simply skipped and the report will not contain a tab for that service in that subscription.</p> Resource Provider Purpose <code>Microsoft.Security</code> Defender for Cloud assessments, alerts, and secure score <code>Microsoft.Insights</code> Azure Monitor: DCRs, action groups, alert rules <code>Microsoft.Maintenance</code> Azure Update Manager maintenance configurations <code>Microsoft.RecoveryServices</code> Azure Backup and Azure Site Recovery <code>Microsoft.HybridCompute</code> Arc-enabled servers <code>Microsoft.Kubernetes</code> Arc-enabled Kubernetes <code>Microsoft.AzureStackHCI</code> Azure Local (Stack HCI) clusters <p>Register a provider with:</p> <pre><code>Register-AzResourceProvider -ProviderNamespace Microsoft.Security\n</code></pre> <p>Run <code>Test-AZSCPermissions</code> to check provider registration status before a full run.</p>"},{"location":"roadmap/","title":"Roadmap","text":"<p>See everything. Own your cloud.</p> <p>This page outlines what's planned, what's in progress, and what's been delivered. Community contributions are welcome \u2014 see Contributing to get involved.</p>"},{"location":"roadmap/#current-release-v100","title":"Current Release \u2014 v1.0.0","text":"<p>Released February 2026.</p> Area What's included Excel Reports 170+ worksheets covering all 18 Azure resource categories Category Filtering <code>-Category</code> parameter to scope runs to specific resource types AI / ML Coverage 15 modules: OpenAI, AI Foundry, Azure ML, Cognitive Services, Bot Services, Search AVD Coverage 6 modules: Host Pools, App Groups, Workspaces, Session Hosts, Scaling Plans, Applications Arc Coverage Sites, SQL Servers, Data Controllers, SQL Managed Instances, Arc-enabled Kubernetes enhancements VM &amp; Arc Enrichment Backup status, Site Recovery, Update Manager, Advisor score, Monitor metrics, Cost estimates Monitor Coverage 22 modules: Diagnostic settings, alert rules, DCRs, App Insights deep data, autoscale, workbooks Markdown / AsciiDoc Export <code>-OutputFormat Markdown\\|AsciiDoc</code> generates portable reports alongside Excel/JSON Permission Audit <code>Invoke-AZSCPermissionAudit</code> with ARM + Graph checks, color output, Markdown/AsciiDoc export Subscription &amp; MG Completeness Captures ALL subscriptions (including empty/disabled) and full MG hierarchy Module Naming Renamed from AzureTenantInventory to AzureScout (prefix: <code>AZSC</code>)"},{"location":"roadmap/#near-term-v110","title":"Near-term \u2014 v1.1.0","text":"<p>Focus: quality, reliability, and community onboarding.</p> Feature Description Status Pester test suite Full unit + integration tests for all public functions and key private functions :blue_circle: Planned PSGallery publish Publish <code>AzureScout</code> module to PowerShell Gallery :blue_circle: Planned GitHub Actions CI Run Pester tests on PR + push; block merge on failure :blue_circle: Planned Category alias documentation Comprehensive table of all accepted <code>-Category</code> aliases and their canonical names :blue_circle: Planned Resource provider pre-flight Warn before scan when required providers are not registered in a subscription :blue_circle: Planned Throttling / retry improvements Exponential backoff on ARM 429 responses; configurable <code>-ThrottleDelay</code> :blue_circle: Planned <code>Invoke-AzureScout -WhatIf</code> Show which modules would run without actually executing :blue_circle: Planned Non-destructive cache Prevent <code>ReportCache</code> and <code>DiagramCache</code> from being overwritten on subsequent runs. Each invocation writes to a timestamped (or <code>-RunName</code> named) subfolder. Previous scan data is never lost unless <code>-Force</code> is specified. <code>Clear-AZSCCacheFolder -OlderThan &lt;days&gt;</code> for cleanup. :blue_circle: Planned"},{"location":"roadmap/#visual-dashboard-tabs-darkblue-overview-style-worksheets","title":"Visual Dashboard Tabs (DarkBlue \"overview-style\" worksheets)","text":"<p>Phase 10 added raw data tabs (Cost Management, Security Overview, Azure Update Manager, Azure Monitor) that collect data into flat tables. The next step is to add visual dashboard tabs \u2014 styled like the Overview sheet (DarkBlue tab color, EPPlus shapes, pivot charts) \u2014 that summarize and visualize the data from those raw tabs.</p> Dashboard Charts / Visualizations Status Cost Dashboard Cost by Resource Type (bar), Cost by Subscription (pie), Cost by Region (column), Cost by SKU (bar) :blue_circle: Planned Security Dashboard Assessments by Severity (pie), Findings by Subscription (bar), Defender Plans (column), Active Alerts by Severity (bar) :blue_circle: Planned Update Manager Dashboard Machines by Platform (pie), Machines by OS Type (pie), Machines by Region (column), Machines by Power State (bar), Machines by Subscription (bar) :blue_circle: Planned Monitor Dashboard Alert Rules by Subscription (bar), Action Groups by Subscription (pie), DCRs by Subscription (column), App Insights by Subscription (bar) :blue_circle: Planned <p>Each dashboard tab will:</p> <ul> <li>Use DarkBlue tab color (matching Overview, Subscriptions, Advisor)</li> <li>Be pinned after the Overview sheet group via <code>MoveAfter</code> in the ordering function</li> <li>Contain EPPlus pivot tables + charts generated by <code>Build-AZSCDashboardTabs</code></li> <li>Only appear when the corresponding raw data tab has data (no empty dashboards)</li> </ul>"},{"location":"roadmap/#medium-term-v120","title":"Medium-term \u2014 v1.2.0","text":"<p>Focus: depth, breadth, and multi-tenant scenarios.</p> Feature Description Status Multi-tenant scanning <code>-TenantID</code> accepts multiple tenant IDs. Authenticates to each tenant sequentially, runs the full extraction \u2192 processing \u2192 reporting pipeline per tenant. Supports combined workbook (with Tenant column) or separate per-tenant workbooks via <code>-MergeOutput</code> switch. Auth failure on one tenant does not block others. Builds on non-destructive cache (v1.1.0) for run isolation. :blue_circle: Planned Word document export (#22) <code>-OutputFormat Word</code> generates a <code>.docx</code> report with cover page, table of contents, per-category sections with summary tables, resource counts, and key metrics. Suitable for client deliverables, executive summaries, and formal documentation. :blue_circle: Planned PDF report export (#23) <code>-OutputFormat PDF</code> generates a <code>.pdf</code> report with cover page, table of contents, paginated resource tables, and headers/footers. Ideal for archival, compliance evidence, and stakeholder distribution. :blue_circle: Planned Cost anomaly detection Surface Azure Cost Management anomalies in the Cost Management tab :bulb: Idea Bicep / IaC gap detection Compare discovered resources against known IaC templates; flag unmanaged resources :bulb: Idea Resource drift reporting Compare two inventory runs and report what was added, removed, or changed :bulb: Idea Azure DevOps integration Inventory Azure DevOps organizations, projects, pipelines alongside Azure resources :bulb: Idea GitHub Actions module Publish as a GitHub Action so pipelines can generate inventory reports without local setup :bulb: Idea Fabric / Power BI export Export normalized inventory data to a Power BI-ready dataset :bulb: Idea IoT deep coverage IoT Hub device registry, Device Provisioning Service, Digital Twins topology :bulb: Idea"},{"location":"roadmap/#long-term-vision","title":"Long-term Vision","text":"<p>AzureScout aims to be the definitive open-source Azure visibility tool for:</p> <ul> <li>Architects \u2014 understand the full shape of a tenant before designing changes</li> <li>Security teams \u2014 identify misconfigured, unmonitored, or over-privileged resources</li> <li>FinOps practitioners \u2014 surface cost waste, reservation opportunities, and untagged resources</li> <li>Managed service providers \u2014 generate client-ready reports across multiple tenants</li> </ul> <p>The tool will remain open-source, PowerShell-native, and Excel-friendly \u2014 no agents, no portals, no licensing fees.</p>"},{"location":"roadmap/#completed-phases","title":"Completed Phases","text":"<p>All implementation phases from the original migration plan are complete. See the Changelog for the full history.</p> Phase Summary Phase 1-9 Core engine, module loading, Excel generation, JSON output, Draw.io diagrams, auth methods, connection handling, permission pre-flight Phase 10 Specialized Excel tabs: Cost Management, Security Overview, Azure Update Manager, Azure Monitor Phase 11 All-subscriptions + full MG hierarchy enumeration Phase 12 ARM-only default scope, permission documentation, README overhaul Phase 13 15 new Azure Monitor/Insights modules Phase 14 15 new AI/ML modules Phase 15 6 AVD modules + AVD on Azure Local/Arc detection Phase 16 Arc site configs, Arc SQL Server, Arc Data Services enhancements Phase 17 VM + Arc deep enrichment (metrics, backup, DR, cost, advisor) Phase 18 Category folder alignment + <code>.CATEGORY</code> metadata parsing Phase 19 Richer progress indicators, clear permission error messages Phase 20 <code>Invoke-AZSCPermissionAudit</code> + <code>Test-AZSCPermissions</code> refactor Phase 21 Markdown + AsciiDoc export, <code>Export-AZSCMarkdownReport</code>, <code>Export-AZSCAsciiDocReport</code>"},{"location":"roadmap/#suggest-a-feature","title":"Suggest a Feature","text":"<p>Open an issue at github.com/thisismydemo/azure-scout/issues with the label <code>enhancement</code>.</p> <p>Pull requests are welcome \u2014 see Contributing for guidelines.</p>"},{"location":"testing/","title":"Testing","text":"<p>AzureScout maintains 100 % test coverage across all 237 PowerShell scripts. The test suite uses Pester 5 and runs entirely offline \u2014 no Azure credentials or live API calls required.</p>"},{"location":"testing/#prerequisites","title":"Prerequisites","text":"Requirement Install Command PowerShell 7+ Built-in on modern Windows; <code>brew install --cask powershell</code> on macOS Pester 5.3.2+ <code>Install-Module Pester -MinimumVersion 5.3.2 -Force</code> ImportExcel <code>Install-Module ImportExcel -Force</code>"},{"location":"testing/#running-the-full-suite","title":"Running the Full Suite","text":"<pre><code>Import-Module Pester -RequiredVersion 5.3.2 -Force\nInvoke-Pester -Path .\\tests\\ -Output Detailed\n</code></pre> <p>This runs all 29 test files (~1,240 tests) and typically completes in under 60 seconds.</p>"},{"location":"testing/#running-a-single-test-file","title":"Running a Single Test File","text":"<pre><code># Run only the Compute module tests\nInvoke-Pester -Path .\\tests\\Compute.Module.Tests.ps1 -Output Detailed\n\n# Run only the private main-function tests\nInvoke-Pester -Path .\\tests\\Private.Main.Tests.ps1 -Output Detailed\n</code></pre>"},{"location":"testing/#test-file-overview","title":"Test File Overview","text":"<p>The <code>tests/</code> directory contains 29 Pester files organized by area:</p>"},{"location":"testing/#inventory-module-tests-15-files","title":"Inventory Module Tests (15 files)","text":"<p>Each category of Azure resource modules has a dedicated test file that validates both the Processing phase (data extraction/transformation) and the Reporting phase (Excel output).</p> Test File Modules Category <code>AI.Module.Tests.ps1</code> 27 AI &amp; Machine Learning <code>Analytics.Module.Tests.ps1</code> 6 Analytics <code>Compute.Module.Tests.ps1</code> 14 Compute &amp; AVD <code>Containers.Module.Tests.ps1</code> 6 Containers <code>Databases.Module.Tests.ps1</code> 13 Databases <code>Hybrid.Module.Tests.ps1</code> 16 Hybrid &amp; Arc <code>Identity.Module.Tests.ps1</code> 18 Identity &amp; Entra ID <code>Integration.Module.Tests.ps1</code> 2 Integration <code>IoT.Module.Tests.ps1</code> 1 IoT <code>Management.Module.Tests.ps1</code> 14 Management &amp; Governance <code>Monitor.Module.Tests.ps1</code> 24 Monitoring <code>Networking.Module.Tests.ps1</code> 21 Networking <code>Security.Module.Tests.ps1</code> 5 Security <code>Storage.Module.Tests.ps1</code> 2 Storage <code>Web.Module.Tests.ps1</code> 2 Web"},{"location":"testing/#private-module-tests-4-files","title":"Private Module Tests (4 files)","text":"<p>These validate internal helper scripts \u2014 file existence, syntax (via <code>Parser::ParseFile</code>), and function definitions.</p> Test File Scripts Covered <code>Private.Main.Tests.ps1</code> 13 (orchestration, auth, caching) <code>Private.Extraction.Tests.ps1</code> 9 (API, Graph, subscriptions) <code>Private.Processing.Tests.ps1</code> 9 (cache, advisory, policy jobs) <code>Private.Reporting.Tests.ps1</code> 21 (Excel, JSON, Markdown, AsciiDoc)"},{"location":"testing/#public-function-integration-tests-10-files","title":"Public Function &amp; Integration Tests (10 files)","text":"Test File Purpose <code>Public.Functions.Tests.ps1</code> 14 public utility scripts (Diagram, Jobs) <code>AzureScout.Tests.ps1</code> Module manifest &amp; import validation <code>Invoke-AzureScout.Tests.ps1</code> Main entry-point parameter handling <code>Connect-AZSCLoginSession.Tests.ps1</code> Authentication flows <code>Invoke-AZSCGraphRequest.Tests.ps1</code> Graph API request handling <code>Test-AZSCPermissions.Tests.ps1</code> Permission checker logic <code>Start-AZSCEntraExtraction.Tests.ps1</code> Entra ID extraction <code>PermissionAudit.Tests.ps1</code> Permission audit pipeline <code>OutputFormat.Tests.ps1</code> Output format routing <code>CategoryFiltering.Tests.ps1</code> Category filter validation"},{"location":"testing/#how-inventory-module-tests-work","title":"How Inventory Module Tests Work","text":"<p>Each inventory module test follows this pattern:</p> <ol> <li>Discovery \u2014 A <code>$ResourceModules</code> array lists every module with its file path, Azure resource type, and Excel worksheet name.</li> <li>Mock Resources \u2014 <code>BeforeAll</code> creates in-memory mock Azure resources (hashtables) that match the shapes each module expects.</li> <li>Processing Phase \u2014 The module script is loaded as a <code>ScriptBlock</code> and invoked with <code>Task = 'Processing'</code>, mock resources, and a temp directory. The test asserts the function returns non-null data.</li> <li>Reporting Phase \u2014 The same script is invoked with <code>Task = 'Reporting'</code> and the processed data. The test asserts the call completes without throwing.</li> </ol> <pre><code># Simplified example from Compute.Module.Tests.ps1\n$content = Get-Content -Path $module.File -Raw\n$sb = [ScriptBlock]::Create($content)\n\n# Processing phase\n$result = Invoke-Command -ScriptBlock $sb -ArgumentList @(\n    $TempDir, $null, $null, $MockResources, $null,\n    'Processing', $null, $null, 'Medium', $null\n)\n$result | Should -Not -BeNullOrEmpty\n\n# Reporting phase\n{ Invoke-Command -ScriptBlock $sb -ArgumentList @(\n    $TempDir, $null, $null, $MockResources, $null,\n    'Reporting', $ExcelFile, $result, 'Medium', $null\n) } | Should -Not -Throw\n</code></pre>"},{"location":"testing/#how-private-module-tests-work","title":"How Private Module Tests Work","text":"<p>Private module tests validate scripts that are not directly invoked by users:</p> <ul> <li>File existence \u2014 Confirms every expected <code>.ps1</code> file is present.</li> <li>Syntax validation \u2014 Uses <code>[System.Management.Automation.Language.Parser]::ParseFile()</code> to catch parse errors without executing any code.</li> <li>Function definitions \u2014 Verifies each script defines the expected function name via regex search of the file content.</li> <li>Unit tests \u2014 For simple utilities (e.g., <code>Clear-AZSCMemory</code>, <code>Set-AZSCFolder</code>), the function is dot-sourced and invoked with mocked dependencies.</li> </ul>"},{"location":"testing/#writing-tests-for-a-new-module","title":"Writing Tests for a New Module","text":"<p>When you add a new inventory module:</p> <ol> <li>Identify which category test file it belongs to (e.g., <code>Compute.Module.Tests.ps1</code>).</li> <li>Add an entry to the <code>$ResourceModules</code> array with <code>Name</code>, <code>File</code>, <code>Type</code>, and <code>Worksheet</code>.</li> <li>Add a mock resource hashtable to the <code>$MockResources</code> array that matches the module's expected resource type.</li> <li>Run the test file and verify both Processing and Reporting phases pass.</li> </ol> <p>Tip</p> <p>Use the <code>Module-template.tpl</code> in <code>Modules/Public/InventoryModules/</code> as the starting point for both the module and its corresponding test entry.</p>"},{"location":"testing/#common-pitfalls","title":"Common Pitfalls","text":"<ul> <li>Case-sensitive hashtable keys \u2014 PowerShell hashtable keys are case-insensitive; avoid duplicate keys like <code>SKU</code> and <code>sku</code> in mock data.</li> <li>ARM ID format \u2014 Some modules call <code>.split('/')[8]</code> on resource IDs. Always use full ARM paths (e.g., <code>/subscriptions/.../resourceGroups/.../providers/.../name</code>) in mocks.</li> <li>DateTime values \u2014 Modules that cast properties to <code>[datetime]</code> will fail if mock values aren't valid date strings.</li> <li>Cross-resource lookups \u2014 Some modules (e.g., Backup) join data across multiple resource types. Include mock resources for all related types.</li> <li>Export-Excel -PassThru \u2014 This pattern does not save the file to disk. Test the Reporting phase with <code>Should -Not -Throw</code> rather than checking for file existence.</li> </ul>"},{"location":"testing/#ci-cd-integration","title":"CI / CD Integration","text":"<p>To run the test suite in a CI pipeline (GitHub Actions, Azure DevOps, etc.):</p> <pre><code># GitHub Actions example\n- name: Run Pester Tests\n  shell: pwsh\n  run: |\n    Install-Module Pester -RequiredVersion 5.3.2 -Force -Scope CurrentUser\n    Install-Module ImportExcel -Force -Scope CurrentUser\n    Import-Module Pester -RequiredVersion 5.3.2 -Force\n    $result = Invoke-Pester -Path ./tests/ -Output Detailed -PassThru\n    if ($result.FailedCount -gt 0) { exit 1 }\n</code></pre>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#common-errors","title":"Common Errors","text":"Error Cause Fix <code>Insufficient privileges to complete the operation</code> Missing Microsoft Graph permission Grant the required permission and perform admin consent. See Permissions. <code>Authorization_RequestDenied</code> Delegated permission not consented Sign in with a Global Admin and consent to the required permissions. <code>Resource provider not registered</code> / <code>[FAIL] Provider: ... NotRegistered</code> Provider not enabled in subscription This is expected. Not all providers need to be registered in every subscription \u2014 Azure only registers providers for services you actually use. The corresponding inventory modules are simply skipped. Only register a provider if you actually use that service and want it included in the report: <code>Register-AzResourceProvider -ProviderNamespace &lt;namespace&gt;</code>. See Prerequisites for details. <code>No match was found for the specified search criteria and module name</code> Module not available in PSGallery or network restrictions Install the module manually. See Prerequisites for install commands. <code>Get-AzSubscription returned 0 subscriptions</code> Identity has no Reader role on any subscription Assign <code>Reader</code> at the subscription or management group level. <code>Connect-AzAccount: interactive login failed</code> Running in a non-interactive session (CI/CD, SSH) Use <code>-DeviceLogin</code>, SPN with secret, or SPN with certificate. See Authentication. <code>Token acquisition failed for MSGraph</code> Az.Accounts version too old or tenant configuration issue Update <code>Az.Accounts</code> to latest: <code>Update-Module Az.Accounts -Force</code> <code>Export-Excel: file is locked</code> Excel report file is open in another application Close the file and re-run."},{"location":"troubleshooting/#debugging","title":"Debugging","text":"<p>Enable verbose debug output to diagnose issues:</p> <pre><code>Invoke-AzureScout -TenantID '00000000-...' -Debug\n</code></pre> <p>This produces timestamped log entries for each extraction step, module execution, and API call.</p>"},{"location":"troubleshooting/#pre-flight-permission-check","title":"Pre-flight Permission Check","text":"<p>Run the permission checker standalone to validate access before a full inventory:</p> <pre><code>$result = Test-AZSCPermissions -TenantID '00000000-...' -Scope All\n$result | Format-List\n</code></pre> <p>The <code>Details</code> array contains per-check results with remediation guidance for any failures.</p>"},{"location":"usage/","title":"Usage Guide","text":""},{"location":"usage/#basic-usage","title":"Basic Usage","text":"<pre><code>Import-Module ./AzureScout.psd1\nInvoke-AzureScout\n</code></pre> <p>With no parameters, AZSC runs a full inventory (ARM + Entra) using your current Azure context and generates both Excel and JSON reports.</p>"},{"location":"usage/#scope","title":"Scope","text":"<p>The <code>-Scope</code> parameter controls which data domains are inventoried:</p> Value Behavior <code>All</code> (default) Inventories both ARM resources and Entra ID objects <code>ArmOnly</code> Skips all Entra ID extraction \u2014 ARM resources only <code>EntraOnly</code> Skips all ARM extraction \u2014 Entra ID objects only <pre><code># ARM only \u2014 skip Entra ID\nInvoke-AzureScout -Scope ArmOnly\n\n# Entra ID only \u2014 skip ARM resources\nInvoke-AzureScout -Scope EntraOnly\n</code></pre>"},{"location":"usage/#output-format","title":"Output Format","text":"<p>The <code>-OutputFormat</code> parameter controls report file types:</p> Value Produces <code>All</code> (default) Both Excel (.xlsx) and JSON (.json) <code>Excel</code> Excel only <code>Json</code> JSON only <pre><code># JSON only output\nInvoke-AzureScout -OutputFormat Json\n\n# Excel only output\nInvoke-AzureScout -OutputFormat Excel\n</code></pre>"},{"location":"usage/#report-location","title":"Report Location","text":"<p>Reports are saved to a timestamped folder:</p> <ul> <li>Windows: <code>C:\\AzureScout\\&lt;timestamp&gt;\\</code></li> <li>Linux/macOS: <code>$HOME/AzureScout/&lt;timestamp&gt;/</code></li> </ul> <p>Override with <code>-ReportDir</code>:</p> <pre><code>Invoke-AzureScout -ReportDir 'D:\\Reports'\n</code></pre>"},{"location":"usage/#content-toggles","title":"Content Toggles","text":"<p>Switch parameters to include/exclude specific content:</p> Parameter Effect <code>-SecurityCenter</code> Include Microsoft Defender for Cloud findings <code>-IncludeTags</code> Include resource tags in Excel worksheets <code>-SkipAdvisory</code> Skip Azure Advisor recommendations <code>-SkipPolicy</code> Skip Azure Policy compliance data <code>-SkipPermissionCheck</code> Skip the pre-flight permission validation"},{"location":"usage/#subscription-management-group-filters","title":"Subscription &amp; Management Group Filters","text":"<pre><code># Specific subscriptions only\nInvoke-AzureScout -SubscriptionID 'sub-001','sub-002'\n\n# Management group scoped\nInvoke-AzureScout -ManagementGroup 'mg-prod'\n</code></pre>"},{"location":"usage/#naming-the-report","title":"Naming the Report","text":"<pre><code>Invoke-AzureScout -ReportName 'Q4-2025-Audit'\n</code></pre>"},{"location":"usage/#json-output-structure","title":"JSON Output Structure","text":"<p>The JSON report uses a normalized, flat resource schema:</p> <pre><code>{\n  \"metadata\": {\n    \"tenantId\": \"...\",\n    \"generatedAt\": \"2026-01-15T10:30:00Z\",\n    \"scope\": \"All\",\n    \"moduleVersion\": \"1.5.0\"\n  },\n  \"resources\": [\n    {\n      \"id\": \"/subscriptions/.../resourceGroups/.../providers/...\",\n      \"name\": \"my-vm\",\n      \"TYPE\": \"microsoft.compute/virtualmachines\",\n      \"resourceGroup\": \"rg-prod\",\n      \"subscriptionId\": \"...\",\n      \"location\": \"eastus\",\n      \"properties\": { }\n    }\n  ]\n}\n</code></pre>"}]}